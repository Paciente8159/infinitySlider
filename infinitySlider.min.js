function infinitySlider(a){this.options=this.defaultOptions(a);this.transition=new transitionJS({transitionDuration:this.options.transitionTime,transitionEasing:this.options.transitionEasing,renderFrame:this.render.bind(this)});this.motion=this.index=0;this.slider=document.querySelector(this.options.sliderSelector);if(this.slides=document.querySelectorAll(this.options.sliderSelector+">"+this.options.slideSelector)){if(this.options.enableSlideLoop)for(a=0;a<this.slides.length;a++)this.slider.insertBefore(this.slides[a].cloneNode(!0),
this.slides[0]);this.slides=document.querySelectorAll(this.options.sliderSelector+">"+this.options.slideSelector);(this.activeSlide=this.slides[0])&&this.activeSlide.classList.add(this.options.slideActiveClassName);this.lastframe=0;this.slidesoffsets=Array(this.slides.length);var b=this.options.enableSlideLoop?this.slides.length/2:this.slides.length;for(a=0;a<this.slides.length;a++){var d=a%this.slides.length;d=d<b?d:d%b-b;this.slidesoffsets[a]=d}this.slidesdots=document.querySelectorAll(this.options.sliderSelector+
">"+this.options.dotSelector);this.slidesdots.length&&(this.activeDot=this.slidesdots[0])&&this.activeDot.classList.add(this.options.dotActiveClassName);if(this.options.debug){a=100;switch(this.options.transformationFunc){case "translateX":a/=this.slides.length;b="width:"+a+"%;margin-left:auto;margin-right:auto;";break;case "translateY":a/=this.slides.length;b="height:"+a+"%;margin-top:auto;margin-bottom:auto;";break;default:a/=this.slides.length,b="width:"+a+"%;margin-left:auto;margin-right:auto;",
a/=this.slides.length,b+="height:"+a+"%;margin-top:auto;margin-bottom:auto;"}this.slider.style.cssText="position:relative;overflow:visible;"+b}this.render(1,1);this.autoplayInterval=null;this.startAutoPlay()}}infinitySlider.prototype.normIndex=function(a){return 0>a?this.slides.length-a:a>this.slides.length-1?a-this.slides.length:a};
infinitySlider.prototype.render=function(a,b){a=this.options.transformationFunc;for(var d=this.options.transformationOffset,h=100*this.options.transformationMult,k=this.options.transformationUnits,f=this.options.enableSlideLoop?this.slides.length/2:this.slides.length,c=0;c!=this.slides.length;c++){var e=this.slidesoffsets[c]-this.motion*b;e>f?e-=this.slides.length:this.slidesoffsets[c]<-f&&(e+=this.slides.length);this.slides[c].style.zIndex=-Math.round(Math.abs(e));var g=e+d;"string"===typeof a?this.slides[c].style.transform=
a+"("+g*h+k+")":a(this.slides[c],g,b);1<=b&&(this.slidesoffsets[c]=e)}this.lastframe=b;if(1<=b){this.index+=this.motion;this.index%=this.slides.length;this.lastframe=this.motion=0;this.updateActiveClasses();for(c=0;c!=this.slides.length;c++)this.slides[c].style.zIndex=0;if(this.options.onAfterSlideChange)this.options.onAfterSlideChange(this.index)}};
infinitySlider.prototype.getDotIndex=function(a){for(var b=0;b<this.slidesdots.length;b++)if(this.slidesdots[b]===a)return this.index<this.slidesdots.length?b:b+this.slidesdots.length;return-1};infinitySlider.prototype.getSlideIndex=function(a){for(var b=0;b<this.slides.length;b++)if(this.slides[b]===a)return b;return-1};infinitySlider.prototype.activateSlide=function(a){var b=this.getDotIndex(a);if(0>b&&(b=this.getSlideIndex(a),0>b))return;this.goTo(b)};
infinitySlider.prototype.startAutoPlay=function(){this.options.autoplay&&(this.autoplayInterval=setInterval(function(){this.motion++;this.transition.startTransition()}.bind(this),this.options.autoplayTime))};infinitySlider.prototype.stopAutoPlay=function(){this.options.autoplay&&clearInterval(this.autoplayInterval)};
infinitySlider.prototype.updateActiveClasses=function(){this.activeSlide&&this.activeSlide.classList.remove(this.options.slideActiveClassName);(this.activeSlide=this.slides[Math.round(this.index)])&&this.activeSlide.classList.add(this.options.slideActiveClassName);this.slidesdots.length&&(this.activeDot&&this.activeDot.classList.remove(this.options.dotActiveClassName),(this.activeDot=this.slidesdots[this.index%this.slidesdots.length])&&this.activeDot.classList.add(this.options.dotActiveClassName))};
infinitySlider.prototype.next=function(){this.stopAutoPlay();this.motion++;if(this.options.onBeforeSlideChange)this.options.onBeforeSlideChange(this.index,this.motion);this.transition.startTransition();this.startAutoPlay()};infinitySlider.prototype.prev=function(){this.stopAutoPlay();this.motion--;if(this.options.onBeforeSlideChange)this.options.onBeforeSlideChange(this.index,this.motion);this.transition.startTransition();this.startAutoPlay()};
infinitySlider.prototype.goTo=function(a){this.stopAutoPlay();this.motion=a-this.index;this.options.enableSlideLoop&&Math.abs(this.motion)>this.slides.length/2&&(this.motion=0>this.motion?this.slides.length+this.motion:-(this.slides.length-this.motion));if(this.options.onBeforeSlideChange)this.options.onBeforeSlideChange(this.index,this.motion);this.transition.startTransition();this.startAutoPlay()};
infinitySlider.prototype.jumpTo=function(a){this.stopAutoPlay();var b=this.options.enableSlideLoop?this.slides.length/2:this.slides.length;if(this.options.enableSlideLoop||!(a>=b||0>a))this.motion+=a-this.index,this.transition.startTransition(),this.startAutoPlay()};infinitySlider.prototype.getAt=function(a){return this.slides[a%this.slides.length]};infinitySlider.prototype.getIndex=function(){return this.index};
infinitySlider.prototype.defaultOptions=function(a){var b={sliderSelector:".slider",slideSelector:".slide",dotSelector:".slidedot",slideActiveClassName:"slide-active",dotActiveClassName:"dot-active",transitionTime:500,transitionEasing:"easeInOutCubic",autoplay:!1,autoplayTime:5E3,transformationOffset:0,transformationFunc:"translateX",transformationMult:1,transformationUnits:"%",enableSlideLoop:!1,onBeforeSlideChange:null,onAfterSlideChange:null};Object.getOwnPropertyNames(a).forEach(function(d){Object.defineProperty(b,
d,{value:a[d],writable:!0})});return b};
